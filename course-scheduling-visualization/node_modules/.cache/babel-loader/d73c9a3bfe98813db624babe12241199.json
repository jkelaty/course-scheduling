{"ast":null,"code":"import _classCallCheck from\"/Users/jkelaty/Desktop/course-scheduling/course-scheduling/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jkelaty/Desktop/course-scheduling/course-scheduling/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jkelaty/Desktop/course-scheduling/course-scheduling/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jkelaty/Desktop/course-scheduling/course-scheduling/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import ScheduleViewer from'./ScheduleViewer/ScheduleViewer.jsx';import PacmanLoad from'react-spinners/PacmanLoader';var Scheduler=/*#__PURE__*/function(_React$Component){_inherits(Scheduler,_React$Component);var _super=_createSuper(Scheduler);function Scheduler(props){var _this2;_classCallCheck(this,Scheduler);_this2=_super.call(this,props);_this2.courses_file=props.courses;_this2.instructors_file=props.instructors;_this2.courses=null;_this2.instructors=null;_this2.state={schedule:null};return _this2;}_createClass(Scheduler,[{key:\"componentDidMount\",value:function componentDidMount(){this.run_scheduler();}},{key:\"run_scheduler\",value:function run_scheduler(){var _this=this;if(_this.courses_file){var courses_reader=new FileReader();courses_reader.onload=function(e){_this.courses=courses_reader.result;_this.received_file();};courses_reader.readAsText(_this.courses_file);}if(_this.instructors_file){var instructors_reader=new FileReader();instructors_reader.onload=function(e){_this.instructors=instructors_reader.result;_this.received_file();};instructors_reader.readAsText(_this.instructors_file);}}},{key:\"received_file\",value:function received_file(){var _this=this;if(_this.courses&&_this.instructors){var form=new FormData();form.append(\"courses\",_this.courses);form.append(\"preferences\",_this.instructors);var settings={\"url\":\"https://course-scheduling-jkelaty.herokuapp.com/schedule/\",\"method\":\"POST\",\"timeout\":0,\"processData\":false,\"mimeType\":\"multipart/form-data\",\"contentType\":false,\"data\":form};window.$.ajax(settings).done(function(response){_this.setState({schedule:JSON.parse(response)});});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.schedule?/*#__PURE__*/React.createElement(ScheduleViewer,{schedule:this.state.schedule}):/*#__PURE__*/React.createElement(\"div\",{className:\"cs-loading\"},/*#__PURE__*/React.createElement(PacmanLoad,{size:\"50px\",color:\"white\"})));}}]);return Scheduler;}(React.Component);export{Scheduler as default};","map":{"version":3,"sources":["/Users/jkelaty/Desktop/course-scheduling/course-scheduling/src/CourseScheduling/Scheduler.jsx"],"names":["React","ScheduleViewer","PacmanLoad","Scheduler","props","courses_file","courses","instructors_file","instructors","state","schedule","run_scheduler","_this","courses_reader","FileReader","onload","e","result","received_file","readAsText","instructors_reader","form","FormData","append","settings","window","$","ajax","done","response","setState","JSON","parse","Component"],"mappings":"orBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,qCAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,C,GAGqBC,CAAAA,S,kHACjB,mBAAYC,KAAZ,CAAmB,4CACf,wBAAMA,KAAN,EAEA,OAAKC,YAAL,CAAwBD,KAAK,CAACE,OAA9B,CACA,OAAKC,gBAAL,CAAwBH,KAAK,CAACI,WAA9B,CAEA,OAAKF,OAAL,CAAmB,IAAnB,CACA,OAAKE,WAAL,CAAmB,IAAnB,CAEA,OAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,IADD,CAAb,CATe,cAYlB,C,mFAEmB,CAChB,KAAKC,aAAL,GACH,C,qDAEe,CACZ,GAAIC,CAAAA,KAAK,CAAG,IAAZ,CAEA,GAAKA,KAAK,CAACP,YAAX,CAA0B,CACtB,GAAIQ,CAAAA,cAAc,CAAG,GAAIC,CAAAA,UAAJ,EAArB,CACAD,cAAc,CAACE,MAAf,CAAwB,SAASC,CAAT,CAAY,CAChCJ,KAAK,CAACN,OAAN,CAAgBO,cAAc,CAACI,MAA/B,CACAL,KAAK,CAACM,aAAN,GACH,CAHD,CAIAL,cAAc,CAACM,UAAf,CAA2BP,KAAK,CAACP,YAAjC,EACH,CAED,GAAKO,KAAK,CAACL,gBAAX,CAA8B,CAC1B,GAAIa,CAAAA,kBAAkB,CAAG,GAAIN,CAAAA,UAAJ,EAAzB,CACAM,kBAAkB,CAACL,MAAnB,CAA4B,SAASC,CAAT,CAAY,CACpCJ,KAAK,CAACJ,WAAN,CAAoBY,kBAAkB,CAACH,MAAvC,CACAL,KAAK,CAACM,aAAN,GACH,CAHD,CAIAE,kBAAkB,CAACD,UAAnB,CAA+BP,KAAK,CAACL,gBAArC,EACH,CACJ,C,qDAEe,CACZ,GAAIK,CAAAA,KAAK,CAAG,IAAZ,CAEA,GAAKA,KAAK,CAACN,OAAN,EAAiBM,KAAK,CAACJ,WAA5B,CAA0C,CACtC,GAAIa,CAAAA,IAAI,CAAG,GAAIC,CAAAA,QAAJ,EAAX,CACAD,IAAI,CAACE,MAAL,CAAY,SAAZ,CAA2BX,KAAK,CAACN,OAAjC,EACAe,IAAI,CAACE,MAAL,CAAY,aAAZ,CAA2BX,KAAK,CAACJ,WAAjC,EAEA,GAAIgB,CAAAA,QAAQ,CAAG,CACX,MAAO,2DADI,CAEX,SAAU,MAFC,CAGX,UAAW,CAHA,CAIX,cAAe,KAJJ,CAKX,WAAY,qBALD,CAMX,cAAe,KANJ,CAOX,OAAQH,IAPG,CAAf,CAUAI,MAAM,CAACC,CAAP,CAASC,IAAT,CAAcH,QAAd,EAAwBI,IAAxB,CAA6B,SAAUC,QAAV,CAAoB,CAC7CjB,KAAK,CAACkB,QAAN,CAAe,CACXpB,QAAQ,CAAEqB,IAAI,CAACC,KAAL,CAAWH,QAAX,CADC,CAAf,EAGH,CAJD,EAKH,CACJ,C,uCAEQ,CACL,mBACI,wCACM,KAAKpB,KAAL,CAAWC,QAAX,cAEE,oBAAC,cAAD,EAAgB,QAAQ,CAAI,KAAKD,KAAL,CAAWC,QAAvC,EAFF,cAME,2BAAK,SAAS,CAAC,YAAf,eACI,oBAAC,UAAD,EAAY,IAAI,CAAC,MAAjB,CAAwB,KAAK,CAAC,OAA9B,EADJ,CAPR,CADJ,CAcH,C,uBAlFkCV,KAAK,CAACiC,S,SAAxB9B,S","sourcesContent":["import React from 'react';\n\nimport ScheduleViewer from './ScheduleViewer/ScheduleViewer.jsx';\nimport PacmanLoad from 'react-spinners/PacmanLoader';\n\n\nexport default class Scheduler extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.courses_file     = props.courses;\n        this.instructors_file = props.instructors;\n\n        this.courses     = null;\n        this.instructors = null;\n\n        this.state = {\n            schedule: null\n        };\n    }\n\n    componentDidMount() {\n        this.run_scheduler();\n    }\n\n    run_scheduler() {\n        let _this = this;\n\n        if ( _this.courses_file ) {\n            let courses_reader = new FileReader();\n            courses_reader.onload = function(e) {\n                _this.courses = courses_reader.result;\n                _this.received_file();\n            }\n            courses_reader.readAsText( _this.courses_file );\n        }\n\n        if ( _this.instructors_file ) {\n            let instructors_reader = new FileReader();\n            instructors_reader.onload = function(e) {\n                _this.instructors = instructors_reader.result;\n                _this.received_file();\n            }\n            instructors_reader.readAsText( _this.instructors_file );\n        }\n    }\n\n    received_file() {\n        let _this = this;\n\n        if ( _this.courses && _this.instructors ) {            \n            var form = new FormData();\n            form.append(\"courses\",     _this.courses);\n            form.append(\"preferences\", _this.instructors);\n            \n            var settings = {\n                \"url\": \"https://course-scheduling-jkelaty.herokuapp.com/schedule/\",\n                \"method\": \"POST\",\n                \"timeout\": 0,\n                \"processData\": false,\n                \"mimeType\": \"multipart/form-data\",\n                \"contentType\": false,\n                \"data\": form\n            };\n            \n            window.$.ajax(settings).done(function (response) {\n                _this.setState({\n                    schedule: JSON.parse(response)\n                });\n            });\n        }\n    }\n\n    render() {\n        return (\n            <>\n                { this.state.schedule ?\n\n                    <ScheduleViewer schedule = {this.state.schedule} />\n\n                :\n\n                    <div className=\"cs-loading\">\n                        <PacmanLoad size='50px' color='white' />\n                    </div>\n                }\n            </>\n        );\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}