{"ast":null,"code":"import _classCallCheck from\"/Users/jkelaty/Desktop/course-scheduling/course-scheduling/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jkelaty/Desktop/course-scheduling/course-scheduling/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jkelaty/Desktop/course-scheduling/course-scheduling/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jkelaty/Desktop/course-scheduling/course-scheduling/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import ScheduleViewer from'./ScheduleViewer/ScheduleViewer.jsx';import PacmanLoad from'react-spinners/PacmanLoader';var Scheduler=/*#__PURE__*/function(_React$Component){_inherits(Scheduler,_React$Component);var _super=_createSuper(Scheduler);function Scheduler(props){var _this2;_classCallCheck(this,Scheduler);_this2=_super.call(this,props);_this2.courses_file=props.courses;_this2.instructors_file=props.instructors;_this2.courses=null;_this2.instructors=null;_this2.state={schedule:null,error:false};return _this2;}_createClass(Scheduler,[{key:\"componentDidMount\",value:function componentDidMount(){this.run_scheduler();}},{key:\"run_scheduler\",value:function run_scheduler(){var _this=this;if(_this.courses_file){var courses_reader=new FileReader();courses_reader.onload=function(e){_this.courses=courses_reader.result;_this.received_file();};courses_reader.readAsText(_this.courses_file);}if(_this.instructors_file){var instructors_reader=new FileReader();instructors_reader.onload=function(e){_this.instructors=instructors_reader.result;_this.received_file();};instructors_reader.readAsText(_this.instructors_file);}}},{key:\"received_file\",value:function received_file(){var _this=this;if(_this.courses&&_this.instructors){window.courses=_this.courses;window.instructors=_this.instructors;window.$(document).ready(function(){window.$.ajax({method:'POST',crossDomain:true,url:'https://course-scheduling-jkelaty.herokuapp.com/schedule',data:{courses:_this.courses,preferences:_this.instructors},success:function success(response){_this.setState({schedule:JSON.parse(response)});},error:function error(xhr,status,_error){_this.setState({error:true});}});});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.error?/*#__PURE__*/React.createElement(\"div\",{className:\"cs-error\"},/*#__PURE__*/React.createElement(\"p\",null,\"Uh oh! Something went wrong :(\"),/*#__PURE__*/React.createElement(\"p\",null,\"Reload the app and try again\")):this.state.schedule?/*#__PURE__*/React.createElement(ScheduleViewer,{schedule:this.state.schedule}):/*#__PURE__*/React.createElement(\"div\",{className:\"cs-loading\"},/*#__PURE__*/React.createElement(PacmanLoad,{size:\"50px\",color:\"white\"})));}}]);return Scheduler;}(React.Component);export{Scheduler as default};","map":{"version":3,"sources":["/Users/jkelaty/Desktop/course-scheduling/course-scheduling/src/CourseScheduling/Scheduler.jsx"],"names":["React","ScheduleViewer","PacmanLoad","Scheduler","props","courses_file","courses","instructors_file","instructors","state","schedule","error","run_scheduler","_this","courses_reader","FileReader","onload","e","result","received_file","readAsText","instructors_reader","window","$","document","ready","ajax","method","crossDomain","url","data","preferences","success","response","setState","JSON","parse","xhr","status","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport ScheduleViewer from './ScheduleViewer/ScheduleViewer.jsx';\nimport PacmanLoad from 'react-spinners/PacmanLoader';\n\n\nexport default class Scheduler extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.courses_file     = props.courses;\n        this.instructors_file = props.instructors;\n\n        this.courses     = null;\n        this.instructors = null;\n\n        this.state = {\n            schedule: null,\n            error: false\n        };\n    }\n\n    componentDidMount() {\n        this.run_scheduler();\n    }\n\n    run_scheduler() {\n        let _this = this;\n\n        if ( _this.courses_file ) {\n            let courses_reader = new FileReader();\n            courses_reader.onload = function(e) {\n                _this.courses = courses_reader.result;\n                _this.received_file();\n            }\n            courses_reader.readAsText( _this.courses_file );\n        }\n\n        if ( _this.instructors_file ) {\n            let instructors_reader = new FileReader();\n            instructors_reader.onload = function(e) {\n                _this.instructors = instructors_reader.result;\n                _this.received_file();\n            }\n            instructors_reader.readAsText( _this.instructors_file );\n        }\n    }\n\n    received_file() {\n        let _this = this;\n\n        if ( _this.courses && _this.instructors ) {\n\n            window.courses = _this.courses;\n            window.instructors = _this.instructors;\n\n            window.$(document).ready(function() {\n                window.$.ajax({\n                    method: 'POST',\n                    crossDomain: true,\n                    url: 'https://course-scheduling-jkelaty.herokuapp.com/schedule',\n                    data: {\n                        courses: _this.courses,\n                        preferences: _this.instructors\n                    },\n                    success: function(response) {\n                        _this.setState({\n                            schedule: JSON.parse(response)\n                        });\n                    },\n                    error: function(xhr, status, error) {\n                        _this.setState({\n                            error: true\n                        });\n                    }\n                });\n            });\n        }\n    }\n\n    render() {\n        return (\n            <>\n                { this.state.error ?\n                \n                    <div className=\"cs-error\">\n                        <p>Uh oh! Something went wrong :(</p>\n                        <p>Reload the app and try again</p>\n                    </div>\n                \n                : this.state.schedule ?\n\n                    <ScheduleViewer schedule = {this.state.schedule} />\n\n                :\n\n                    <div className=\"cs-loading\">\n                        <PacmanLoad size='50px' color='white' />\n                    </div>\n                }\n            </>\n        );\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}