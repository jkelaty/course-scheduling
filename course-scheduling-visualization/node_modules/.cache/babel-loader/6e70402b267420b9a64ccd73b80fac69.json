{"ast":null,"code":"var _jsxFileName = \"/Users/jkelaty/Desktop/course-scheduling/course-scheduling/src/CourseScheduling/Scheduler/Scheduler.jsx\";\nimport React from 'react';\nimport ScheduleViewer from '../ScheduleViewer/ScheduleViewer.jsx';\nimport PacmanLoad from 'react-spinners/PacmanLoader'; //import { readString } from 'react-papaparse';\n\nimport './Scheduler.scss';\nexport default class Scheduler extends React.Component {\n  constructor(props) {\n    super(props);\n    this.courses = props.courses;\n    this.instructors = props.instructors;\n    this.program = null;\n    this.state = {\n      schedule: null\n    };\n  }\n\n  componentDidMount() {\n    this.run_scheduler();\n  }\n\n  run_scheduler() {\n    /*                            _______\n        Read in courses (if null, error) \\___ Use readString()\n        Read in instructors (if ! null)  /\n        Read in main.py           ______/\n        Add necessary global(s) --> append global string for StringIO\n        Run python and setState to result\n    */\n    let reader = new FileReader();\n\n    reader.onload = function (e) {\n      window.jQuery.get('./main.py', function (program) {\n        this.program = program;\n        let prog = 'from six import StringIO\\nTESTDATA = StringIO(\"\"\"' + reader.result + '\"\"\")\\n';\n        window.languagePluginLoader.then(() => {\n          window.pyodide.loadPackage('pandas').then(() => {\n            console.log(window.pyodide.runPython(prog + this.program));\n          });\n        });\n      });\n    };\n\n    reader.readAsText(this.courses);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.schedule ? /*#__PURE__*/React.createElement(ScheduleViewer, {\n      schedule: this.state.schedule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sv-loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(PacmanLoad, {\n      size: \"50px\",\n      color: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/jkelaty/Desktop/course-scheduling/course-scheduling/src/CourseScheduling/Scheduler/Scheduler.jsx"],"names":["React","ScheduleViewer","PacmanLoad","Scheduler","Component","constructor","props","courses","instructors","program","state","schedule","componentDidMount","run_scheduler","reader","FileReader","onload","e","window","jQuery","get","prog","result","languagePluginLoader","then","pyodide","loadPackage","console","log","runPython","readAsText","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,cAAP,MAA2B,sCAA3B;AACA,OAAOC,UAAP,MAAuB,6BAAvB,C,CAEA;;AAEA,OAAO,kBAAP;AAGA,eAAe,MAAMC,SAAN,SAAwBH,KAAK,CAACI,SAA9B,CAAwC;AACnDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,OAAL,GAAmBD,KAAK,CAACC,OAAzB;AACA,SAAKC,WAAL,GAAmBF,KAAK,CAACE,WAAzB;AAEA,SAAKC,OAAL,GAAe,IAAf;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE;AADD,KAAb;AAGH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,aAAL;AACH;;AAEDA,EAAAA,aAAa,GAAG;AACZ;;;;;;;AAOA,QAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,IAAAA,MAAM,CAACE,MAAP,GAAgB,UAASC,CAAT,EAAY;AACxBC,MAAAA,MAAM,CAACC,MAAP,CAAcC,GAAd,CAAkB,WAAlB,EAA+B,UAASX,OAAT,EAAkB;AAC7C,aAAKA,OAAL,GAAeA,OAAf;AAEA,YAAIY,IAAI,GAAG,sDAAsDP,MAAM,CAACQ,MAA7D,GAAsE,QAAjF;AAEAJ,QAAAA,MAAM,CAACK,oBAAP,CAA4BC,IAA5B,CAAiC,MAAM;AACnCN,UAAAA,MAAM,CAACO,OAAP,CAAeC,WAAf,CAA2B,QAA3B,EAAqCF,IAArC,CAA0C,MAAM;AAC5CG,YAAAA,OAAO,CAACC,GAAR,CAAYV,MAAM,CAACO,OAAP,CAAeI,SAAf,CAA0BR,IAAI,GAAG,KAAKZ,OAAtC,CAAZ;AACH,WAFD;AAGH,SAJD;AAKH,OAVD;AAWH,KAZD;;AAaAK,IAAAA,MAAM,CAACgB,UAAP,CAAkB,KAAKvB,OAAvB;AACH;;AAEDwB,EAAAA,MAAM,GAAG;AACL,wBACI,0CACM,KAAKrB,KAAL,CAAWC,QAAX,gBAEE,oBAAC,cAAD;AAAgB,MAAA,QAAQ,EAAI,KAAKD,KAAL,CAAWC,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,gBAME;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAC,MAAjB;AAAwB,MAAA,KAAK,EAAC,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAPR,CADJ;AAcH;;AA1DkD","sourcesContent":["import React from 'react';\n\nimport ScheduleViewer from '../ScheduleViewer/ScheduleViewer.jsx';\nimport PacmanLoad from 'react-spinners/PacmanLoader';\n\n//import { readString } from 'react-papaparse';\n\nimport './Scheduler.scss';\n\n\nexport default class Scheduler extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.courses     = props.courses;\n        this.instructors = props.instructors;\n\n        this.program = null;\n\n        this.state = {\n            schedule: null\n        };\n    }\n\n    componentDidMount() {\n        this.run_scheduler();\n    }\n\n    run_scheduler() {\n        /*                            _______\n            Read in courses (if null, error) \\___ Use readString()\n            Read in instructors (if ! null)  /\n            Read in main.py           ______/\n            Add necessary global(s) --> append global string for StringIO\n            Run python and setState to result\n        */\n        let reader = new FileReader();\n        reader.onload = function(e) {\n            window.jQuery.get('./main.py', function(program) {\n                this.program = program;\n\n                let prog = 'from six import StringIO\\nTESTDATA = StringIO(\"\"\"' + reader.result + '\"\"\")\\n';\n\n                window.languagePluginLoader.then(() => {\n                    window.pyodide.loadPackage('pandas').then(() => {\n                        console.log(window.pyodide.runPython( prog + this.program ));\n                    });\n                });\n            });\n        };\n        reader.readAsText(this.courses);\n    }\n\n    render() {\n        return (\n            <>\n                { this.state.schedule ?\n\n                    <ScheduleViewer schedule = {this.state.schedule} />\n\n                :\n\n                    <div className=\"sv-loading\">\n                        <PacmanLoad size='50px' color='white' />\n                    </div>\n                }\n            </>\n        );\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}